<extend name="Common:base"/>

<block name="page_title">添加商品分类 </block>

<block name="main">
    <div class="box">
        <div class="box-header well-small">
            <h4><i class="icon-edit"> </i>录入商品分类</h4>
        </div>
        <div class="box-content">
            <form class="form-horizontal" method="post" action="{:U('category/insert')}">
                <fieldset>
                    <legend>分类信息<a href="{:U('/category')}" class="btn btn-info pull-right">返回分类列表</a></legend>
                    {/*
                    如果父分类为空，说明添加的是商品大类
                    */}
                    <empty name="child">
                        <div class="alert alert-warning">商品大类无父分类</div>
                        <div class="control-group">
                            <label class="control-label"><i class="icon-user"></i> 大类名称：</label>
                            <div class="controls">
                                <input type="hidden" name="pid" value="0"/>
                                <input type="text"  name="name">
                            </div>
                        </div>
                        <else/>
                        {/* 大类下添加 */}

                        <eq name="child.pid" value="0">
                            <div class="control-group">
                                <label class="control-label"><i class="icon-user"></i> 大类名称：</label>
                                <div class="controls">
                                    <input type="hidden" name="pid" value="{$child.id}"/>
                                    <input type="text"  value="{$child.name}" disabled>
                                </div>
                            </div>
                            <div class="control-group">
                                <label class="control-label"><i class="icon-user"></i> 中类名称：</label>
                                <div class="controls">
                                    <input type="text" name="name">
                                </div>
                            </div>
                        </eq>

                        {/* 中类下添加 */}
                        <between name="child.pid" value="1,100">
                            <empty name="parent">
                                <else/>
                                <div class="control-group">
                                    <label class="control-label"><i class="icon-user"></i> 大类名称：</label>
                                    <div class="controls">
                                        <input type="hidden" name="super.id" value="{$parent.id}"/>
                                        <input type="text"  value="{$parent.name}" disabled>
                                    </div>
                                </div>

                                <div class="control-group">
                                    <label class="control-label"><i class="icon-user"></i> 中类名称：</label>
                                    <div class="controls">
                                        <input type="hidden" name="pid" value="{$child.id}"/>
                                        <input type="text"  value="{$child.name}" disabled >
                                    </div>
                                </div>

                                <div class="control-group">
                                    <label class="control-label"><i class="icon-user"></i> 小类名称：</label>
                                    <div class="controls">
                                        <input type="text" name="name">
                                    </div>
                                </div>
                            </empty>

                        </between>

                    </empty>


                   <!-- <empty name="parent">
                        <div class="alert alert-warning">商品大类无父分类</div>
                        <input type="hidden" name="pid" value="0" />
                        <else/>

                        <div class="control-group">
                            <label class="control-label"><i class="icon-user"></i> 父分类名称：</label>
                            <div class="controls">
                                <input type="hidden" name="pid" value="{$parent.id}"/>
                                <input type="text"  value="{$parent.name}" disabled>
                            </div>
                        </div>
                    </empty>
                    <div class="control-group">
                        <label class="control-label"><i class="icon-user"></i> 子分类名称：</label>
                        <div class="controls">
                            <input type="text" name="name" class="span3">
                        </div>
                    </div>-->
                    <div class="form-actions">
                        <button  class="btn btn-info btn-round">提交</button>
                        <a href="{:U('/category')}" class="btn btn-info btn-round">返回</a>
                    </div>
                </fieldset>
            </form>
        </div>

    </div>

</block>
